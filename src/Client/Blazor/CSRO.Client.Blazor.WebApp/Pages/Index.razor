@page "/"

<MudContainer MaxWidth="MaxWidth.ExtraLarge" Class="mt-16">
    <MudText Class="mb-8">Welcome to your CSRO app, powerd by MudBlazor!</MudText>
    <MudAlert Severity="Severity.Normal">You can find documentation and examples on our website here: <MudLink Href="https://mudblazor.com" Typo="Typo.body2" Color="Color.Inherit"><b>www.mudblazor.com</b></MudLink></MudAlert>
</MudContainer>

@code { 
        @using Microsoft.AspNetCore.Components.Authorization
        @using CSRO.Client.Services
        @using CSRO.Client.Services.Models
        @inject IBaseDataService<Ticket> TicketDataService
        @inject IUserDataService UserDataService
        @inject NavigationManager NavigationManager

    protected async override Task OnInitializedAsync()
    {

        try
        {
            var t = await TicketDataService.GetItemByIdAsync(0);
            if (t != null)
            {
                //var us = await UserDataService.GetUserByUserName("");
            }

            //var us = await UserDataService.GetUserByUserName("live.com#jan.supolik@hotmail.com");
            //if (us == null)
            //{
            //    var t = await TicketDataService.GetItemByIdAsync(1);
            //    if (t != null)
            //    {
            //        us = await UserDataService.GetUserByUserName("live.com#jan.supolik@hotmail.com");
            //    }
            //}

            //NavigationManager.NavigateTo("/MicrosoftIdentity/Account/SignIn", false);
        }
        catch (Exception ex)
        {

        }
    }

    }